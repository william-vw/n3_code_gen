<html>

<head>
    <script src="diabetes-iot-2.js"></script>
    <script src="util.js"></script>

    <script>
        var profile = new PatientProfile(new TreatmentPlan());
        profile.hasPhysicalExamination[DiabetesPhysicalExamination.bmi] = new DiabetesPhysicalExamination(DiabetesPhysicalExamination.bmi, 37);
		profile.hasPhysicalExamination[DiabetesPhysicalExamination.historyOfPrediabetes] = new DiabetesPhysicalExamination(DiabetesPhysicalExamination.historyOfPrediabetes, 0);
        profile.hasLabTest[DiabetesLaboratoryTest.hba1c] = new DiabetesLaboratoryTest(DiabetesLaboratoryTest.hba1c, 7);
        profile.hasLabTest[DiabetesLaboratoryTest.fpg] = new DiabetesLaboratoryTest(DiabetesLaboratoryTest.fpg, 135);
        profile.hasDemographic[PatientDemographic.age] = new PatientDemographic(PatientDemographic.age, 33);

        var p = new Patient(profile);

        console.log("-- input:");
        console.log(JSON.stringify(p, CircularReplacer(), 4));

        execute(p);

        console.log("-- output:");
        console.log(JSON.stringify(p, CircularReplacer(), 4));
    </script>

</head>

<body>
</body>

</html>